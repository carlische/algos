# Задача 3: Число инверсий

## Описание

Данная задача включает реализацию алгоритма сортировки слиянием с модификацией для подсчета инверсий в массиве. Инверсия в массиве — это ситуация, когда в последовательности чисел два элемента расположены в неправильном порядке, то есть первый элемент больше второго, но при этом находится перед ним. Основной целью является подсчет общего количества инверсий в заданном массиве.

## Структура проекта

```
Task-3/
|-- src/
|   |-- input.txt
|   |-- inv.py
|   |-- output.txt
|-- tests/
|   |-- tests_inv.py
```

### Описание файлов:

- **src/inversions\_count.py**: Основной скрипт с реализацией алгоритма сортировки слиянием для подсчета инверсий. Читает данные из файла `input.txt` и записывает количество инверсий в файл `output.txt`.
- **src/input.txt**: Входной файл, содержащий количество элементов и сам массив чисел, для которого необходимо подсчитать количество инверсий.
- **src/output.txt**: Выходной файл, содержащий количество инверсий в массиве.
- **tests/test\_inversions\_count.py**: Модуль с тестами для проверки корректности работы алгоритма подсчета инверсий.

## Формат входных и выходных данных

- **Входной файл (********`input.txt`********)**:

  - Первая строка: число `n` ( ≤ `n` ≤ 2 ⋅ 10⁴) — количество элементов массива.
  - Вторая строка: `n` различных целых чисел, по модулю не превосходящих `10⁹`.

- **Выходной файл (********`output.txt`********)**:

  - Содержит одно число — количество инверсий в массиве.

## Описание алгоритма

Алгоритм подсчета инверсий основан на сортировке слиянием с дополнительной функциональностью для подсчета количества инверсий. Основные этапы алгоритма:

1. **Разделение**: Деление массива на две части, пока размер подмассивов не станет равным единице.
2. **Подсчет и слияние**: На этапе слияния отсортированных подмассивов происходит подсчет инверсий. Если элемент в правом подмассиве меньше элемента в левом подмассиве, это означает наличие инверсий.
3. **Комбинирование**: Слияние двух отсортированных подмассивов в один.

Функция `merge_and_count` отвечает за подсчет инверсий при слиянии, а `merge_sort_and_count` — за рекурсивное разбиение массива и подсчет инверсий.

## Тестирование

Для проверки работоспособности алгоритма реализованы юнит-тесты в файле `test_inversions_count.py`. Тесты включают:

- Подсчет инверсий в обычных массивах.
- Проверку на уже отсортированный массив.
- Обратный порядок элементов.
- Пустой массив.
- Проверку на некорректные входные данные и размеры временного массива.

Запуск тестов позволяет убедиться в корректности работы функции для различных сценариев.
